{"title":"å‰ç«¯æ–‡ä»¶ä¸Šä¼ ä¸ä¸‹è½½","date":"2022-06-27T01:13:37.000Z","date_formatted":{"ll":"2022å¹´6æœˆ27æ—¥","L":"2022/06/27","MM-DD":"06-27"},"thumbnail":"https://picsum.photos/1280/720?random=11","color":"#111","link":"2022/06/27/å‰ç«¯æ–‡ä»¶ä¸Šä¼ ä¸ä¸‹è½½","tags":["ğŸ•JS"],"updated":"2023-02-13T07:34:07.829Z","content":"<h3 id=\"htmlæ–‡ä»¶ä¸Šä¼ \">HTMLæ–‡ä»¶ä¸Šä¼ <a title=\"#htmlæ–‡ä»¶ä¸Šä¼ \" href=\"#htmlæ–‡ä»¶ä¸Šä¼ \"></a></h3>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">ref</span>=<span class=\"string\">&quot;select&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">type</span>=<span class=\"string\">&quot;file&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">class</span>=<span class=\"string\">&quot;form&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">hidden</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">accept</span>=<span class=\"string\">&quot;application/dxf&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">multiple</span>=<span class=\"string\">&quot;multiple&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">/&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>typeæ§åˆ¶inputç±»å‹</li>\n<li>hiddenæ§åˆ¶å…ƒç´ æ˜¾ç¤ºéšè—</li>\n<li>acceptæ§åˆ¶ä¸Šä¼ ç±»å‹</li>\n<li>multipleæ˜¯å¦å¯ä»¥å¤šé€‰</li>\n</ul>\n<h3 id=\"æ–‡ä»¶ä¸Šä¼ è¿›åº¦æ¡\">æ–‡ä»¶ä¸Šä¼ è¿›åº¦æ¡<a title=\"#æ–‡ä»¶ä¸Šä¼ è¿›åº¦æ¡\" href=\"#æ–‡ä»¶ä¸Šä¼ è¿›åº¦æ¡\"></a></h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åœ¨axiosä¸‹é…ç½®request Header</span></span><br><span class=\"line\"><span class=\"attr\">onUploadProgress</span>: <span class=\"function\">(<span class=\"params\">progressEvent</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(progressEvent.lengthComputable)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> complete = </span><br><span class=\"line\">            (((progressEvent.loaded / progressEvent.total) * <span class=\"number\">100</span>) | <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.percentage = complete;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (complete === <span class=\"number\">100</span>) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.percentage = <span class=\"number\">0</span> <span class=\"comment\">// é‡ç½®è¿›åº¦</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"æ–‡ä»¶ä¸‹è½½\">æ–‡ä»¶ä¸‹è½½<a title=\"#æ–‡ä»¶ä¸‹è½½\" href=\"#æ–‡ä»¶ä¸‹è½½\"></a></h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ–‡ä»¶é“¾æ¥ç›´æ¥ä¸‹è½½</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> a = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">&quot;a&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> url = <span class=\"string\">&quot;url&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> fileName = <span class=\"string\">&quot;filename.xlsx&quot;</span>;</span><br><span class=\"line\">a.herf = url;</span><br><span class=\"line\">a.download = fileName;</span><br><span class=\"line\">a.click();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åç«¯blobæµæ–‡ä»¶ä¸‹è½½</span></span><br><span class=\"line\">fetch(url).then(<span class=\"function\">(<span class=\"params\">response</span>) =&gt;</span></span><br><span class=\"line\">  response.blob().then(<span class=\"function\">(<span class=\"params\">blob</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> a = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">&quot;a&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> url = <span class=\"built_in\">window</span>.URL.createObjectURL(blob);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> fileName = <span class=\"string\">&quot;filename.xlsx&quot;</span>;</span><br><span class=\"line\">    a.herf = url;</span><br><span class=\"line\">    a.download = fileName;</span><br><span class=\"line\">    a.click();</span><br><span class=\"line\">    <span class=\"built_in\">window</span>.URL.revokeObjectURL(url);</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n","prev":{"title":"Canvasæ‹–æ‹½å’Œç¼©æ”¾","link":"2023/02/13/Canvasæ‹–æ‹½å’Œç¼©æ”¾"},"next":{"title":"å­¦ä¹ è·¯ä¸Šçš„å‘","link":"2022/06/27/å¥‡å¥‡æ€ªæ€ªçš„å‘"},"plink":"https://fenglekai.github.io/2022/06/27/å‰ç«¯æ–‡ä»¶ä¸Šä¼ ä¸ä¸‹è½½/","toc":[{"id":"htmlæ–‡ä»¶ä¸Šä¼ ","title":"HTMLæ–‡ä»¶ä¸Šä¼ ","index":"1"},{"id":"æ–‡ä»¶ä¸Šä¼ è¿›åº¦æ¡","title":"æ–‡ä»¶ä¸Šä¼ è¿›åº¦æ¡","index":"2"},{"id":"æ–‡ä»¶ä¸‹è½½","title":"æ–‡ä»¶ä¸‹è½½","index":"3"}],"reading_time":"201 å­—çº¦ 1 åˆ†é’Ÿ"}