{"title":"Electronæ„å»ºæ¡Œé¢åº”ç”¨","date":"2023-02-22T03:52:25.000Z","date_formatted":{"ll":"2023å¹´2æœˆ22æ—¥","L":"2023/02/22","MM-DD":"02-22"},"thumbnail":"https://picsum.photos/1280/720?random=20230222","color":"#111","link":"2023/02/22/Electronæ„å»ºæ¡Œé¢åº”ç”¨","tags":["ğŸ‰æ•™ç¨‹","ğŸ“”ç¬”è®°"],"updated":"2023-02-22T03:54:27.334Z","content":"<p>ä¸ºè§£å†³å‰ç«¯éƒ¨ç½²åˆ°å…¶ä»–ä¸»æœºå¤æ‚æ­¥éª¤ï¼ˆæ¯”å¦‚ï¼šdockeréƒ¨ç½²ï¼Œ<code>nginx</code>éƒ¨ç½²ï¼‰ï¼Œç›´æ¥æ„å»ºæ¡Œé¢åº”ç”¨æ‰“å¼€å³ç”¨ï¼Œç”¨æˆ·æ“ä½œç®€å•ä¾¿æ·çš„éƒ¨ç½²æ–¹æ¡ˆã€‚</p>\n<p>åŸºäº<a href=\"https://gitee.com/MTrun/react-big-screen\" target=\"_blank\">react-big-screen</a>æ¡†æ¶äºŒæ¬¡å¼€å‘æ„å»º</p>\n<h2 id=\"ä½¿ç”¨ç¯å¢ƒ\">ä½¿ç”¨ç¯å¢ƒ<a title=\"#ä½¿ç”¨ç¯å¢ƒ\" href=\"#ä½¿ç”¨ç¯å¢ƒ\"></a></h2>\n<ul>\n<li>æœ¬æœºä½¿ç”¨çš„æ˜¯<code>Deepin</code> 20.6ï¼ŒåŸºäº<code>Debian</code> 10.10åº•å±‚ã€‚</li>\n<li>Node 12.22.12</li>\n<li>React 16.2.0</li>\n<li>data-view-react 1.2.4</li>\n<li>Electron 11.5.0</li>\n<li>Electron-builder 22.10.5</li>\n<li>wine 7.0</li>\n</ul>\n<h2 id=\"å¼€å§‹æ„å»º\">å¼€å§‹æ„å»º<a title=\"#å¼€å§‹æ„å»º\" href=\"#å¼€å§‹æ„å»º\"></a></h2>\n<blockquote>\n<p>Electronå®˜æ–¹æ–‡æ¡£ï¼š<a href=\"https://www.electronjs.org/zh/docs/latest/\" target=\"_blank\">https://www.electronjs.org/zh/docs/latest/</a></p>\n</blockquote>\n<h3 id=\"å®‰è£…ä¾èµ–\">å®‰è£…ä¾èµ–<a title=\"#å®‰è£…ä¾èµ–\" href=\"#å®‰è£…ä¾èµ–\"></a></h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -D electron@11.5.0</span><br><span class=\"line\">npm install -D electron-builder@22.10.5</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†é…åˆä¹‹å‰é¡¹ç›®æ¡†æ¶çš„Nodeç‰ˆæœ¬åšäº†åŒ¹é…ï¼Œé«˜ç‰ˆæœ¬ä¼šå‡ºç°å¾ˆå¤šé”™è¯¯ã€‚</p>\n<h3 id=\"åˆ›å»ºelectronå…¥å£æ–‡ä»¶\">åˆ›å»ºElectronå…¥å£æ–‡ä»¶<a title=\"#åˆ›å»ºelectronå…¥å£æ–‡ä»¶\" href=\"#åˆ›å»ºelectronå…¥å£æ–‡ä»¶\"></a></h3>\n<p>å‚è€ƒç½‘ä¸Šæ•™ç¨‹åˆ›å»º<code>main.js</code>åœ¨æ ¹ç›®å½•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¼•å…¥electronå¹¶åˆ›å»ºä¸€ä¸ªBrowserwindow</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; app, <span class=\"title class_\">BrowserWindow</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;electron&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;path&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> url = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;url&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è·å–åœ¨ package.json ä¸­çš„å‘½ä»¤è„šæœ¬ä¼ å…¥çš„å‚æ•°ï¼Œæ¥åˆ¤æ–­æ˜¯å¼€å‘è¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒ</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> mode = process.<span class=\"property\">argv</span>[<span class=\"number\">2</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¿æŒwindowå¯¹è±¡çš„å…¨å±€å¼•ç”¨,é¿å…JavaScriptå¯¹è±¡è¢«åƒåœ¾å›æ”¶æ—¶,çª—å£è¢«è‡ªåŠ¨å…³é—­.</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> mainWindow;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">createWindow</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//åˆ›å»ºæµè§ˆå™¨çª—å£,å®½é«˜è‡ªå®šä¹‰</span></span><br><span class=\"line\">  mainWindow = <span class=\"keyword\">new</span> <span class=\"title class_\">BrowserWindow</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">width</span>: <span class=\"number\">800</span>,</span><br><span class=\"line\">    <span class=\"attr\">height</span>: <span class=\"number\">600</span>,</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  mainWindow.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;resize&quot;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    mainWindow.<span class=\"title function_\">reload</span>();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (mode === <span class=\"string\">&quot;dev&quot;</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// åŠ è½½åº”ç”¨----é€‚ç”¨äº react é¡¹ç›®</span></span><br><span class=\"line\">    mainWindow.<span class=\"title function_\">loadURL</span>(<span class=\"string\">&quot;http://localhost:9001/&quot;</span>);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// åŠ è½½åº”ç”¨-----reacté¡¹ç›®æ‰“åŒ…åçš„è·¯å¾„</span></span><br><span class=\"line\">    mainWindow.<span class=\"title function_\">loadURL</span>(</span><br><span class=\"line\">      url.<span class=\"title function_\">format</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">pathname</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&quot;./dist/index.html&quot;</span>),</span><br><span class=\"line\">        <span class=\"attr\">protocol</span>: <span class=\"string\">&quot;file:&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">slashes</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé»˜è®¤ä¸æ‰“å¼€</span></span><br><span class=\"line\">  <span class=\"comment\">// mainWindow.webContents.openDevTools()</span></span><br><span class=\"line\">  <span class=\"comment\">// å…³é—­windowæ—¶è§¦å‘ä¸‹åˆ—äº‹ä»¶.</span></span><br><span class=\"line\">  mainWindow.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;closed&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    mainWindow = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å½“ Electron å®Œæˆåˆå§‹åŒ–å¹¶å‡†å¤‡åˆ›å»ºæµè§ˆå™¨çª—å£æ—¶è°ƒç”¨æ­¤æ–¹æ³•</span></span><br><span class=\"line\">app.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;ready&quot;</span>, createWindow);</span><br><span class=\"line\"><span class=\"comment\">// æ‰€æœ‰çª—å£å…³é—­æ—¶é€€å‡ºåº”ç”¨.</span></span><br><span class=\"line\">app.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;window-all-closed&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// macOSä¸­é™¤éç”¨æˆ·æŒ‰ä¸‹ `Cmd + Q` æ˜¾å¼é€€å‡º,å¦åˆ™åº”ç”¨ä¸èœå•æ å§‹ç»ˆå¤„äºæ´»åŠ¨çŠ¶æ€.</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (process.<span class=\"property\">platform</span> !== <span class=\"string\">&quot;darwin&quot;</span>) &#123;</span><br><span class=\"line\">    app.<span class=\"title function_\">quit</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">app.<span class=\"title function_\">on</span>(<span class=\"string\">&quot;activate&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// macOSä¸­ç‚¹å‡»Dockå›¾æ ‡æ—¶æ²¡æœ‰å·²æ‰“å¼€çš„å…¶ä½™åº”ç”¨çª—å£æ—¶,åˆ™é€šå¸¸åœ¨åº”ç”¨ä¸­é‡å»ºä¸€ä¸ªçª—å£</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (mainWindow === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">createWindow</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¿®æ”¹package.jsonæ–‡ä»¶\">ä¿®æ”¹package.jsonæ–‡ä»¶<a title=\"#ä¿®æ”¹package.jsonæ–‡ä»¶\" href=\"#ä¿®æ”¹package.jsonæ–‡ä»¶\"></a></h3>\n<p>æ–°å¢å‡ ä¸ªå…³é”®é¡¹</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;project name&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;version&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;0.1.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;homepage&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;main&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;main.js&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;electron-start&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;electron . dev&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;electron&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;electron .&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;build-win64&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;electron-builder --win --x64&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;build-linux&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;electron-builder --linux&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;build-mac&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;electron-builder --mac&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;build&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;productName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;productName&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;appId&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;appId&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;copyright&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;directories&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;buildResources&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;output&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;build&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;files&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">      <span class=\"string\">&quot;dist/**/*&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"string\">&quot;node_modules/**/*&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"string\">&quot;main.js&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;win&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;icon&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./dist/favicon.ico&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;target&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">        <span class=\"string\">&quot;nsis&quot;</span></span><br><span class=\"line\">      <span class=\"punctuation\">]</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;linux&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;icon&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./dist/icon.png&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;mac&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;icon&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./dist/icon.png&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;nsis&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;installerIcon&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;dist/favicon.ico&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;uninstallerIcon&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;dist/favicon.ico&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;uninstallDisplayName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;å¸è½½è¿™ä¸ªè½¯ä»¶&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;oneClick&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;allowToChangeInstallationDirectory&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;allowElevation&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;createDesktopShortcut&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"è¿è¡Œé¡¹ç›®\">è¿è¡Œé¡¹ç›®<a title=\"#è¿è¡Œé¡¹ç›®\" href=\"#è¿è¡Œé¡¹ç›®\"></a></h3>\n<h4 id=\"å¼€å‘æ¨¡å¼\">å¼€å‘æ¨¡å¼<a title=\"#å¼€å‘æ¨¡å¼\" href=\"#å¼€å‘æ¨¡å¼\"></a></h4>\n<p>éœ€è¦å¼€å¯ä¸¤ä¸ªå‘½ä»¤çª—å£</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run start</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œæ³¨æ„è¦ä¿®æ”¹<code>main.js</code>ä¸‹çš„<code>mainWindow.loadURL(&quot;http://localhost:9001/&quot;);</code>éœ€è¦ä¿®æ”¹æˆä½ æ­£åœ¨è¿è¡Œé¡¹ç›®çš„ç«¯å£</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run electron-start</span><br></pre></td></tr></table></figure>\n<h4 id=\"é¢„è§ˆæ¨¡å¼\">é¢„è§ˆæ¨¡å¼<a title=\"#é¢„è§ˆæ¨¡å¼\" href=\"#é¢„è§ˆæ¨¡å¼\"></a></h4>\n<p>é¦–å…ˆæ‰“åŒ…reacté¡¹ç›®</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run build</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œä¹Ÿæ˜¯éœ€è¦æ³¨æ„å¯¹åº”æ‰“åŒ…æ–‡ä»¶çš„è·¯å¾„<code>pathname: path.join(__dirname, &quot;./dist/index.html&quot;),</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run electron</span><br></pre></td></tr></table></figure>\n<h2 id=\"æ„å»ºæ‰“åŒ…åº”ç”¨\">æ„å»ºæ‰“åŒ…åº”ç”¨<a title=\"#æ„å»ºæ‰“åŒ…åº”ç”¨\" href=\"#æ„å»ºæ‰“åŒ…åº”ç”¨\"></a></h2>\n<p>è¿™é‡Œä½¿ç”¨çš„electron-builderï¼ŒåŸå› æ˜¯ä¸electron-forceå’Œelectron-packageræ¯”è¾ƒä¸‹<code>npm</code>å‘¨ä¸‹è½½é‡å¤šã€‚</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">windows</span></span><br><span class=\"line\">npm run build-win64</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">linux</span></span><br><span class=\"line\">npm run build-linux</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">mac</span></span><br><span class=\"line\">npm run build-mac</span><br></pre></td></tr></table></figure>\n<p>é€šè¿‡ç›¸åº”çš„å‘½ä»¤å¯ä»¥æ„å»ºå‡ºå¯¹åº”ç³»ç»Ÿçš„åº”ç”¨ï¼Œmacçš„æ„å»ºè¿˜æœªå°è¯•è¿‡ï¼Œæœ‰éœ€è¦çš„å¯ä»¥å»æ‰¾ç›¸å…³æ•™ç¨‹ã€‚</p>\n<p>æ‰“åŒ…éœ€è¦çš„é…ç½®ä¸»è¦æ˜¯åœ¨package.jsonä¸‹çš„buildå­—æ®µ,ä¸Šé¢å·²ç»è´´å‡ºé…ç½®äº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯icoæ ¼å¼è½¬æ¢å’Œå¤§å°é—®é¢˜ã€‚</p>\n<h2 id=\"wineå®‰è£…æ•™ç¨‹\">wineå®‰è£…æ•™ç¨‹<a title=\"#wineå®‰è£…æ•™ç¨‹\" href=\"#wineå®‰è£…æ•™ç¨‹\"></a></h2>\n<p>æ‰“åŒ…<code>exe</code>æ–‡ä»¶ä½¿ç”¨åˆ°çš„åº”ç”¨</p>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/qq_40489522/article/details/125289723\" target=\"_blank\">deepin20.6å®‰è£…wine7.0</a></p>\n</blockquote>\n<p>è¿™ç¯‡æ–‡ç« æ•™ç¨‹éå¸¸è¯¦ç»†ï¼ŒæŒ‰ç…§æ­¥éª¤å®‰è£…å°±è¡Œã€‚</p>\n<h2 id=\"é‡åˆ°é—®é¢˜\">é‡åˆ°é—®é¢˜<a title=\"#é‡åˆ°é—®é¢˜\" href=\"#é‡åˆ°é—®é¢˜\"></a></h2>\n<ol>\n<li><code>ico</code>æ–‡ä»¶ä¸èƒ½é€šè¿‡<code>png</code>æ–‡ä»¶ç›´æ¥æ›¿æ¢åç¼€ã€‚éœ€è¦æ‰¾ä¸ªåœ¨çº¿ç”Ÿæˆicoè¿›è¡Œè½¬æ¢</li>\n<li>Linuxï¼ŒMacä½¿ç”¨<code>png</code>æ ¼å¼çš„icon</li>\n<li>iconå¤§å°éœ€è¦256 x 256</li>\n<li>Linuxä¸‹çš„<code>exe</code>æ–‡ä»¶åªèƒ½åœ¨<code>~/.wine/drive_c</code>ç›®å½•ä¸‹è¿è¡Œ</li>\n</ol>\n","next":{"title":"å‰ç«¯SEOä¼˜åŒ–","link":"2023/02/13/å‰ç«¯SEOä¼˜åŒ–"},"plink":"https://fenglekai.github.io/2023/02/22/Electronæ„å»ºæ¡Œé¢åº”ç”¨/","toc":[{"id":"ä½¿ç”¨ç¯å¢ƒ","title":"ä½¿ç”¨ç¯å¢ƒ","index":"1"},{"id":"å¼€å§‹æ„å»º","title":"å¼€å§‹æ„å»º","index":"2","children":[{"id":"å®‰è£…ä¾èµ–","title":"å®‰è£…ä¾èµ–","index":"2.1"},{"id":"åˆ›å»ºelectronå…¥å£æ–‡ä»¶","title":"åˆ›å»ºElectronå…¥å£æ–‡ä»¶","index":"2.2"},{"id":"ä¿®æ”¹package.jsonæ–‡ä»¶","title":"ä¿®æ”¹package.jsonæ–‡ä»¶","index":"2.3"},{"id":"è¿è¡Œé¡¹ç›®","title":"è¿è¡Œé¡¹ç›®","index":"2.4"}]},{"id":"æ„å»ºæ‰“åŒ…åº”ç”¨","title":"æ„å»ºæ‰“åŒ…åº”ç”¨","index":"3"},{"id":"wineå®‰è£…æ•™ç¨‹","title":"wineå®‰è£…æ•™ç¨‹","index":"4"},{"id":"é‡åˆ°é—®é¢˜","title":"é‡åˆ°é—®é¢˜","index":"5"}],"reading_time":"1064 å­—çº¦ 7 åˆ†é’Ÿ"}